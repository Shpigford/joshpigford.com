<%= form_with model: @made_art, local: true, html: { multipart: true }, data: { turbo: false } do |form| %>
  <% if @made_art.errors.any? %>
    <div class="border border-red-500 bg-red-50 p-4 rounded mb-6">
      <h2 class="text-red-700 font-semibold mb-2"><%= pluralize(@made_art.errors.count, "error") %> prohibited this artwork from being saved:</h2>
      <ul class="list-disc list-inside text-red-600">
        <% @made_art.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-4">
    <%= form.label :title, class: 'block font-semibold mb-2' %>
    <%= form.text_field :title, class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
  </div>

  <div class="mb-4">
    <%= form.label :description, class: 'block font-semibold mb-2' %>
    <%= form.text_area :description, rows: 4, class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
  </div>

  <div class="mb-4">
    <%= form.label :series_name, class: 'block font-semibold mb-2' %>
    <%= form.text_field :series_name, class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
  </div>

  <div class="grid grid-cols-3 gap-4 mb-4">
    <div>
      <%= form.label :year, class: 'block font-semibold mb-2' %>
      <%= form.number_field :year, class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
    </div>

    <div>
      <%= form.label :medium, class: 'block font-semibold mb-2' %>
      <%= form.text_field :medium, placeholder: 'e.g., Oil on canvas', class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
    </div>

    <div>
      <%= form.label :dimensions, class: 'block font-semibold mb-2' %>
      <%= form.text_field :dimensions, placeholder: 'e.g., 24" x 36"', class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
    </div>
  </div>

  <div class="mb-6">
    <%= form.label :images, class: 'block font-semibold mb-2' %>
    <%= form.file_field :images, multiple: true, class: 'w-full px-3 py-2 border border-gray-300 rounded' %>
    <p class="text-sm text-gray-600 mt-1">You can select multiple images</p>
    
    <% if @made_art.images.attached? %>
      <div class="mt-4">
        <p class="font-semibold mb-2">Current images:</p>
        <div class="grid grid-cols-4 gap-2">
          <% @made_art.images.each do |image| %>
            <div class="relative">
              <%= image_tag image.variant(resize_to_fill: [150, 150]), class: 'rounded' %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <%= form.submit @made_art.new_record? ? 'Create Artwork' : 'Update Artwork', 
      class: 'bg-gold text-white px-6 py-2 rounded hover:bg-gold-dark transition-colors cursor-pointer' %>
<% end %>